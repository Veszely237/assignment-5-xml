<!DOCTYPE html>
<html>
<head>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
</head>
<body>
  <h1>Assignment 5</h1> 
  <h3>This web application gets the current list of team members in both the Blue team and the Red team!</h3>
  <br>
  <hr>
  <h2>Blue Team</h2>
  <hr>
  <ul id="blueTeam">
  </ul>
  <hr>
  <h2>Red Team</h2>
  <hr>
  <ul id="redTeam">
  </ul>
  <br>
  <button type="button" onclick="GetBlueTeam()">
    Get Blue Team
  </button>
  <button type="button" onclick="GetRedTeam()">
    Get Red Team
  </button>
  <script>
    // Get Blue team using jQuery call
    function GetBlueTeam() {
        $.getJSON('blueTeam.json', function(json) {
          ProcessJSONBlue(json);
          }).fail(function() {
              alert("Error!");
          }).always(function() {
              alert("Blue Team Call Completed!");
          });
    }
    // Get Red Team using jQuery call
    function GetRedTeam() {
        $.getJSON('redTeam.json', function(json) {
          ProcessJSONRed(json);
          }).fail(function() {
              alert("Error!");
          }).always(function() {
              alert("Red Team Call Completed!");
          });
    }
    // Process the JSON for the blue team
    function ProcessJSONBlue(json) {
        // Loop through each team member
        $.each(json, function(key) {
            let list = document.createElement("li"); // Make 'li' element
            // Add 25 health points to each team member
            let node = document.createTextNode(
            json.team[key].name + 
            " is playing as the " + json.team[key].role + 
            " with the health points of " + (json.team[key].health + 25) + "!"
            );
            list.appendChild(node); // Append text node to 'li' element
            $(".blueTeam").append(list); // Append 'li' element to the element.
      });
    }
    // Process the JSON for the red team
    function ProcessJSONRed(json) {
        // Loop through each team member
        $.each(json, function(key) {
            let list = document.createElement("li"); // Make 'li' element
            // Add 25 health points to each team member
            let node = document.createTextNode(
            json.team[key].name + 
            " is playing as the " + json.team[key].role + 
            " with the health points of " + (json.team[key].health + 25) + "!"
            );
            list.appendChild(node); // Append text node to 'li' element
            $(".redTeam").append(list); // Append 'li' element to the element.
      });
    }
  </script>
</body>
</html>